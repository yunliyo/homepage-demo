$(function () {
    var lang = getLang("lang");
    if (lang) {
        switch (lang) {
            case "en":
                switchLang("en");
                break;
            case "zhs":
                switchLang("zhs");
                break;
            case "zht":
                switchLang("zht");
                break;
            case "ru":
                switchLang("ru");
                break;
            case "hi":
                switchLang("hi");
                break;
            case "tr":
                switchLang("tr");
                break;
            case "de":
                switchLang("de");
                break;
            case "nl":
                switchLang("nl");
                break;
            case "es":
                switchLang("es");
                break;
            case "pt":
                switchLang("pt");
                break;
            case "fr":
                switchLang("fr");
                break;
            case "ar":
                switchLang("ar");
                break;
            case "he":
                switchLang("he");
                break;
            case "it":
                switchLang("it");
                break;
            case "pl":
                switchLang("pl");
                break;
            case "ja":
                switchLang("ja");
                break;
            case "ko":
                switchLang("ko");
                break;
            case "vl":
                switchLang("vl");
                break;
            default:
                location.replace("?lang=en")
        }
    } else {
        if (navigator.userLanguage) {
            lang = navigator.userLanguage.substring(0, 2).toLowerCase()
        } else {
            lang = navigator.language.substring(0, 2).toLowerCase()
        }
        if (lang === "zh") {
            lang = "zhs"
        }
        console.log(lang);
        location.replace("?lang=" + lang)
    }
});
$(function () {
    $(".language").change(function () {
        location.replace("?lang=" + $(this).val())
    })
});

function getLang(name) {
    var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
    var r = window.location.search.substr(1).match(reg);
    if (r != null) {
        return unescape(r[2])
    } else {
        return null
    }
}

function switchLang(lang) {
    switch (lang) {
        case "en":
            $("html").attr("lang", "en-US");
            $(".info").text("We buy and sell domain names.");
            $(".language").val("en");
            break;
        case "zhs":
            $("html").attr("lang", "zh-CN");
            $(".info").text("æˆ‘ä»¬ä¹°å–åŸŸåã€‚");
            $(".language").val("zhs");
            break;
        case "zht":
            $("html").attr("lang", "zh-CN");
            $(".info").text("æˆ‘å€‘è²·è³£åŸŸåã€‚");
            $(".language").val("zht");
            break;
        case "ru":
            $("html").attr("lang", "ru-RU");
            $(".info").text("ĞŸĞ¾ĞºÑƒĞ¿Ğ°ĞµĞ¼ Ğ¸ Ğ¿Ñ€Ğ¾Ğ´Ğ°ĞµĞ¼ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¸Ğ¼ĞµĞ½Ğ°.");
            $(".language").val("ru");
            break;
        case "hi":
            $("html").attr("lang", "hi-IN");
            $(".info").text("à¤¹à¤® à¤¡à¥‹à¤®à¥‡à¤¨ à¤¨à¤¾à¤® à¤–à¤°à¥€à¤¦à¤¤à¥‡ à¤”à¤° à¤¬à¥‡à¤šà¤¤à¥‡ à¤¹à¥ˆà¤‚à¥¤");
            $(".language").val("hi");
            break;
        case "tr":
            $("html").attr("lang", "tr-TR");
            $(".info").text("Alan adlarÄ± alÄ±p satÄ±yoruz.");
            $(".language").val("tr");
            break;
        case "de":
            $("html").attr("lang", "de-DE");
            $(".info").text("Wir kaufen und verkaufen Domainnamen.");
            $(".language").val("de");
            break;
        case "nl":
            $("html").attr("lang", "nl-NL");
            $(".info").text("Wij kopen en verkopen domeinnamen.");
            $(".language").val("nl");
            break;
        case "es":
            $("html").attr("lang", "es-ES");
            $(".info").text("Compramos y vendemos nombres de dominio.");
            $(".language").val("es");
            break;
        case "pt":
            $("html").attr("lang", "pt-BR");
            $(".info").text("Compramos e vendemos nomes de domÃ­nio.");
            $(".language").val("pt");
            break;
        case "fr":
            $("html").attr("lang", "fr-FR");
            $(".info").text("Nous achetons et vendons des noms de domaine.");
            $(".language").val("fr");
            break;
        case "ar":
            $("html").attr("lang", "ar-SA").attr("dir", "rtl");
            $(".info").text("Ù†Ø´ØªØ±ÙŠ ÙˆÙ†Ø¨ÙŠØ¹ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù†Ø·Ø§Ù‚Ø§Øª.");
            $(".language").val("ar");
            break;
        case "he":
            $("html").attr("lang", "he-IL").attr("dir", "rtl");
            $(".info").text("×× ×• ×§×•× ×™× ×•××•×›×¨×™× ×©××•×ª ×“×•××™×™× ×™×.");
            $(".language").val("he");
            break;
        case "it":
            $("html").attr("lang", "it-IT");
            $(".info").text("Acquistiamo e vendiamo nomi di dominio.");
            $(".language").val("it");
            break;
        case "pl":
            $("html").attr("lang", "pl-PL");
            $(".info").text("Kupujemy i sprzedajemy nazwy domen.");
            $(".language").val("pl");
            break;
        case "ja":
            $("html").attr("lang", "ja-JP");
            $(".info").text("ãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’å£²è²·ã—ã¾ã™ã€‚");
            $(".language").val("ja");
            break;
        case "ko":
            $("html").attr("lang", "ko-KR");
            $(".info").text("ìš°ë¦¬ëŠ” ë„ë©”ì¸ ì´ë¦„ì„ ì‚¬ê³  íŒë§¤í•©ë‹ˆë‹¤.");
            $(".language").val("ko");
            break;
        case "vl":
            $("html").attr("lang", "en-US");
            $(".info").text("Dif-Tor heh Smusma ğŸ––");
            $(".language").val("vl");
            break;
        default:
            $("html").attr("lang", "en-US");
            $(".info").text("We buy and sell domain names.");
            $(".language").val("en")
    }
    $(".footer").append('<p class="license">é¦€äº‹åšè¯—äºº</p>');
    $(".contact").text("E-mail: yunliyo@foxmail.com")
}
